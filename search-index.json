[{"content":"\ré€™ç¯‡æ–‡ç« ä¾†è‡ªæ–¼2022å¹´5æœˆï¼Œæˆ‘ç™¼ä½ˆåœ¨HashNodeå¹³å°çš„ä¸€ç¯‡åŒåæ–‡ç«  ã€‚å› ç‚ºæ²’æœ‰ç¶“ç‡ŸHashnodeï¼Œæ‰€ä»¥ä¹¾è„†ç›´æ¥æ‹‰å›ä¾†æ”¾ä¸€èµ·ç®¡ç†ã€‚\nref: RHEL8.5å®‰è£Dockerå°ç­†è¨˜1\n1. ç’°å¢ƒèªªæ˜ å¯¦é©—ä¸»æ©Ÿçš„ç’°å¢ƒæ˜¯Windows 11ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨åˆ°VirtualBoxé€™å€‹è™›æ“¬åŒ–è§£æ±ºæ–¹æ¡ˆ ï¼Œä¾†é”æˆæˆ‘çš„ç›®çš„ã€‚æ‰‹é‚Šå¦‚æœæ²’æœ‰RHELä½œæ¥­ç³»çµ±æ˜ åƒæª”ï¼Œå¯ä»¥è‡ªè¡Œå‰å¾€Redhat Developer2ä¸‹è¼‰DVD isoæª”ä¾†å®‰è£ã€‚\nVirtualBox: 6.1.30 RHEL: 8.5 2. å®‰è£Docker 2.1 è¨­ç½®Yum Repository åŸå…ˆæˆ‘æ˜¯æ¡ç”¨yum.repoå»æŒ‡å‘æ›è¼‰çš„dvd.isoï¼Œç”¨é€™å€‹æ–¹å¼ä¾†å®‰è£Yum Repositoryç®¡ç†å¥—ä»¶ã€‚ä½†æ˜¯ç™¼ç¾DVDæŠ“ä¸åˆ°yum-utilsé€™å€‹å¥—ä»¶ï¼Œä¸¦ä¸”å‡ºç¾ä¸‹é¢éŒ¯èª¤ã€‚\nsudo yum install -y yum-utils #Updating Subscription Management repositories. #DVD for RHEL8 BaseOs 0.0 B/s | 0 B 00:00 #Errors during downloading metadata for repository \u0026#39;DVD-BaseOS\u0026#39;: # - Curl error (37): Couldn\u0026#39;t read a file:// file for file:///mnt/dvd/BaseOS/repodata/repomd.xml [Couldn\u0026#39;t open file /mnt/dvd/BaseOS/repodata/repomd.xml] #Error: Failed to download metadata for repo \u0026#39;DVD-BaseOS\u0026#39;: Cannot download repomd.xml: Cannot download repodata/repomd.xml: All mirrors were tried æ‰¾äº†å¥½ä¹…ï¼ŒçœŸçš„å¾ˆä¸ç†ŸRHELçš„ç”Ÿæ…‹\u0026hellip;æ‰€ä»¥æ±ºå®šæ‰¾æ™‚é–“å†ç ”ç©¶é€™å€‹è­°é¡Œã€‚ç‚ºäº†è§£æ±ºä¸Šè¿°é€™å€‹å•é¡Œçš„æ–¹å¼ï¼Œå¯ä»¥é€éä¸‹é¢3å€‹æ­¥é©Ÿä¾†è§£æ±º:\nå‰ææ˜¯æ©Ÿå™¨çš„ç¶²è·¯å¯ä»¥å°å¤–é€£ç·šï¼Œè‹¥ç„¡æ³•å°å¤–é€£ç·šå‰‡éœ€è¦é€éå…¶å®ƒæ–¹å¼ã€‚\nè¨»å†ŠRedHat Developerå¸³è™Ÿ æŸ¥è©¢çš„éç¨‹ä¸­ï¼Œç™¼ç¾å…¶å¯¦RedHatæœ‰æä¾›No-cost RHEL for developers subscription3ï¼Œæ‰€ä»¥æˆ‘ç«‹é¦¬å»è¨»å†Šä¸€çµ„å¸³è™Ÿä¾†è©¦è©¦ã€‚ä¸‹åœ–æ˜¯æˆ‘èœå‘³åè¶³çš„è¨‚é–±è³‡è¨Š:\nå•Ÿç”¨æ©Ÿå™¨çš„RHELè¨‚é–± è‡³æ–¼å•Ÿç”¨æ©Ÿå™¨è¨‚é–±çš„æ–¹å¼å‰‡å¯ä»¥é€éRegistration Assistant4é€™å€‹æœå‹™ï¼Œç”¢ç”Ÿå‡ºå°æ‡‰çš„æŒ‡ä»¤ã€‚æœ¬æ¬¡æˆ‘ä½¿ç”¨åˆ°ä¸‹é¢é€™ä¸²æŒ‡ä»¤å®Œæˆäº†æˆ‘çš„è¨‚é–±:\nsubscription-manager register --username \u0026lt;username\u0026gt; --password \u0026lt;password\u0026gt; subscription-manager list é‡æ–°ä¸‹è¼‰yum-utils å†æ¬¡åŸ·è¡Œä¸€é–‹å§‹çš„æŒ‡ä»¤Complete!!!çµ‚æ–¼é †åˆ©å®Œæˆä¸‹è¼‰äº†!\nsudo yum install -y yum-utils sudo yum list --installed |grep -i yum-utils #yum-utils.noarch 4.0.21-4.el8_5 @rhel-8-for-x86_64-baseos-rpms è§£æ±ºè¨»å†Šå•é¡Œå¾Œï¼Œæˆ‘å€‘å¯ä»¥ç¹¼çºŒé…ç½®å®‰è£Dockerå¥—ä»¶æ‰€éœ€è¦çš„è¨­å®š:\nsudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/rhel/docker-ce.repo sudo yum repolist #Updating Subscription Management repositories. #repo id repo name #docker-ce-stable Docker CE Stable - x86_64 #rhel-8-for-x86_64-appstream-rpms Red Hat Enterprise #Linux 8 for x86_64 - AppStream (RPMs) #rhel-8-for-x86_64-baseos-rpms Red Hat Enterprise #Linux 8 for x86_64 - BaseOS (RPMs) é€™è£¡å¯ä»¥é€é\u0026ndash;enableå»é–‹å•Ÿç‰¹æ®Šç‰ˆæœ¬(nightlyã€test)çš„å¥—ä»¶ï¼Œä½†é€™é‚Šå¯ä»¥å…ˆä¸éœ€è¦ç†æœƒã€‚\n2.2 å®‰è£Dockerå¥—ä»¶ è¨­ç½®å¥½repoå¯ä»¥é–‹å§‹é€²å…¥ä¸»é¡Œï¼Œä¸‹è¼‰docker\u0026hellip;.ç­‰ç­‰ï¼Œè‹¥æ˜¯ä¸æŒ‡å®šç‰ˆæœ¬åŸºæœ¬ä¸Šéƒ½æœƒæ˜¯ä¸‹è¼‰latestç‰ˆæœ¬çš„å¥—ä»¶ï¼Œä¸éå€‹äººç¿’æ…£å…ˆç¢ºèªå¥½ç‰ˆæœ¬ï¼Œæ‰€ä»¥æœƒåŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤:\nyum list docker-ce --showduplicates | sort -r #Errors during downloading metadata for repository \u0026#39;docker-ce-stable\u0026#39;: # - Status code: 404 for https://download.docker.com/linux/rhel/8/x86_64/stable/repodata/repomd.xml (IP: 13.35.166.118) #Error: Failed to download metadata for repo \u0026#39;docker-ce-stable\u0026#39;: Cannot download repomd.xml: Cannot download repodata/repomd.xml: All mirrors were tried #Updating Subscription Management repositories. #Docker CE Stable - x86_64 337 B/s | 381 B 00:01 ä½ æ²’çœ‹éŒ¯ï¼Œåˆé‡åˆ°å•é¡Œäº†ã€‚æª¢æŸ¥ä¸€ä¸‹å®˜ç¶²æ–‡ä»¶5å¾Œç™¼ç¾åŸä¾†æ˜¯è‡ªå·±çœ¼æ‹™ï¼Œå…¶å¯¦æœ€é–‹å§‹çš„Noteå°±æœ‰æåˆ°:\nWe currently only provide packages for RHEL on s390x (IBM Z). Other architectures are not yet supported for RHEL, but you may be able to install the CentOS packages on RHEL. Refer to the Install Docker Engine on CentOS page for details.\nfrom \u0026ldquo;Install Docker Engine on RHEL 2022.03.06\u0026rdquo;\næ‰€ä»¥2.1 è¨­ç½®Yum Repositoryä¸­ï¼Œé…ç½®å®‰è£Dockerå¥—ä»¶æ‰€éœ€è¦çš„è¨­å®šï¼Œåªè¦å¾æŒ‡å‘RHEL Repositoryæ”¹ç‚ºå¾CentOS Repositoryæ‹‰å–å¥—ä»¶å°±å¯ä»¥:\nsudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo yum list docker-ce --showduplicates | sort -r #Updating Subscription Management repositories. #docker-ce.x86_64 3:20.10.9-3.el8 docker-ce-stable # ... ... ... #Docker CE Stable - x86_64 56 kB/s | 20 kB 00:00 #Available Packages ç¢ºèªå¥½ç‰ˆæœ¬å¾Œï¼Œå®‰è£Dockeræˆ‘å€‘éœ€è¦3å€‹å¥—ä»¶: docker-ceã€docker-ce-cliã€containerd.ioï¼Œé€™æ¬¡ä¹Ÿæ˜¯ååˆ†çˆ­æ°£çš„é‡åˆ°éŒ¯èª¤(å¾ˆé•·ä¸€ä¸²æ‰€ä»¥æˆ‘åˆªæ‰\u0026hellip;ä¸€äº›):\nsudo yum install -y docker-ce-3:20.10.9-3.el8 \\ docker-ce-cli-1:20.10.9-3.el8 \\ containerd.io #Updating Subscription Management repositories. #Last metadata expiration check: 0:41:05 ago on Sun 06 Mar 2022 09:19:20 PM CST. #Error: # Problem 1: problem with installed package podman-1:3.4.2-9.module+el8.5.0+13852+150547f7.x86_64 # Problem 2: problem with installed package podman-catatonit-1:3.4.2-9.module+el8.5.0+13852+150547f7.x86_64 åŸä¾†æˆ‘åˆç²—å¿ƒäº†ï¼Œä»¥ç‚ºæ–°çš„ä½œæ¥­ç³»çµ±å°±ä¸æœƒæœ‰å¥—ä»¶è¡çªå•é¡Œï¼ŒåŸä¾†RHEL8.5é è¨­æœƒå®‰è£podmanã€runcï¼Œå¥—ä»¶é–“æœƒç”¢ç”Ÿè¡çªã€‚æ‰€ä»¥é€™æ¬¡ç‚ºäº†ä¿å®ˆèµ·è¦‹ï¼Œæˆ‘å…¨éƒ¨ç§»é™¤å¾Œå†é‡æ–°å®‰è£ï¼Œé€™æ¬¡çµ‚æ–¼æ²’æœ‰æ€ªæ€ªçš„è¨Šæ¯äº†:\n# ç§»é™¤å¥—ä»¶ sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine \\ podman \\ runc å†æ¬¡å®‰è£ç†è«–ä¸Šæœƒé †åˆ©å‡ºç¾ä¹…é•çš„Complete!!!\nsudo yum install -y docker-ce-3:20.10.9-3.el8 \\ docker-ce-cli-1:20.10.9-3.el8 \\ containerd.io 2.3 å•Ÿå‹•Docker Engine é€™æ¬¡ååˆ†é †åˆ©çš„å•Ÿå‹•Docker:\nsudo systemctl start docker sudo systemctl enable docker å¦‚æœæƒ³å†ç¢ºèªä¸€ä¸‹æ˜¯å¦æˆåŠŸï¼Œå¯ä»¥æª¢æŸ¥systemdæ˜¯å¦æ­£å¸¸é‹ä½œ:\nsystemctl status docker #â— docker.service - Docker Application Container Engine # Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled) # Active: active (running) since Mon 2022-03-07 13:23:51 CST; 1min 25s ago # Docs: https://docs.docker.com # Main PID: 1183 (dockerd) # Tasks: 7 # Memory: 131.4M # CGroup: /system.slice/docker.service # â””â”€1183 /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock 3. æ¸¬è©¦DockeråŸºæœ¬åŠŸèƒ½ æˆ‘å€‘å¯ä»¥å˜—è©¦åšä¸€äº›dockeræŒ‡ä»¤ä¾†é©—è­‰dockeræœå‹™æ˜¯å¦æ­£å¸¸ã€‚ä¸éï¼Œæœ¬ç¯‡ä¸»è¦æ˜¯ç´€éŒ„å¦‚ä½•å®‰è£Dockerï¼Œæ‰€ä»¥æ¥ä¸‹ä¾†ä¸¦ä¸æœƒåšéå¤šçš„èªªæ˜:\n3.1 æª¢æŸ¥Dockerç‰ˆæœ¬ é€™è£¡é¡¯ç¤ºçš„Dockerç‰ˆæœ¬è³‡è¨Šï¼Œæœƒæ ¹æ“šå®‰è£çš„ç‰ˆæœ¬ä¸åŒè€Œæœ‰æ‰€å·®ç•°ã€‚\ndocker --version # Docker version 20.10.9, build c2ea9bc 3.2 åŸ·è¡ŒDockerå®¹å™¨ æˆ‘å€‘å¯ä»¥æ‰¾å€‹ç°¡å–®çš„imageä¾†åŸ·è¡Œã€‚ç‰¹åˆ¥æåˆ°Dockeråœ¨æœ¬åœ°æ²’æœ‰æ‰¾åˆ°ç¬¦åˆåå­—çš„imageæ™‚ï¼Œå‰‡æœƒå»Docker HubæŠ“å°æ‡‰çš„imageä¸‹ä¾†ã€‚æ‰€ä»¥ï¼Œå¦‚æœRHEL8.5æ²’æœ‰å°å¤–ç¶²è·¯é€£ç·šï¼Œå‡ºç¾éŒ¯èª¤è¨Šæ¯æ˜¯æ­£å¸¸çš„æ­~\ndocker run -p 80:80 -d nginx #Unable to find image \u0026#39;nginx:latest\u0026#39; locally #latest: Pulling from library/nginx #f7a1c6dad281: Pull complete #4d3e1d15534c: Pull complete #9ebb164bd1d8: Pull complete #59baa8b00c3c: Pull complete #a41ae70ab6b4: Pull complete #e3908122b958: Pull complete #Digest: #sha256:1c13bc6de5dfca749c377974146ac05256791ca2fe1979fc8e8278bf0121d285 #Status: Downloaded newer image for nginx:latest #b107a9214cbf0bfe53c2a97c56e28540858138d091efbc3ff9e4dcb8c3afc788 3.3 ç¢ºèªDockeråŸ·è¡Œçš„æœå‹™ æˆ‘å€‘åŸ·è¡Œçš„Containeræ˜¯Nginxï¼Œå¦‚æœæŠŠPortè½‰ç™¼åˆ°æœ¬åœ°å‰‡å¯ä»¥è¨ªå•é è¨­çš„Nginxæœå‹™ã€‚\ndocker ps #CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS #NAMES #b107a9214cbf nginx \u0026#34;/docker-entrypoint.â€¦\u0026#34; 5 seconds ago Up 4 seconds 0.0.0.0:80-\u0026gt;80/tcp, :::80-\u0026gt;80/tcp priceless_curie curl http://localhost:80 #\u0026lt;!DOCTYPE html\u0026gt; #\u0026lt;html\u0026gt; #\u0026lt;head\u0026gt; #\u0026lt;title\u0026gt;Welcome to nginx!\u0026lt;/title\u0026gt; #\u0026lt;style\u0026gt; #html { color-scheme: light dark; } #body { width: 35em; margin: 0 auto; #font-family: Tahoma, Verdana, Arial, sans-serif; } #\u0026lt;/style\u0026gt; #\u0026lt;/head\u0026gt; #\u0026lt;body\u0026gt; #\u0026lt;h1\u0026gt;Welcome to nginx!\u0026lt;/h1\u0026gt; #\u0026lt;p\u0026gt;If you see this page, the nginx web server is successfully installed and #working. Further configuration is required.\u0026lt;/p\u0026gt; #\u0026lt;p\u0026gt;For online documentation and support please refer to #\u0026lt;a href=\u0026#34;http://nginx.org/\u0026#34;\u0026gt;nginx.org\u0026lt;/a\u0026gt;.\u0026lt;br/\u0026gt; #Commercial support is available at #\u0026lt;a href=\u0026#34;http://nginx.com/\u0026#34;\u0026gt;nginx.com\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt; #\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Thank you for using nginx.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt; #\u0026lt;/body\u0026gt; #\u0026lt;/html\u0026gt; 4. ç¸½çµ RHEL8.5ç’°å¢ƒä¸‹ï¼Œæ¯”èµ·å®‰è£Docker CEï¼ŒContaineræ“ä½œæ›´æ¨è–¦ç›´æ¥ä½¿ç”¨Podmanã€Skopeoè·ŸBuildahï¼Œå› ç‚ºDVD.isoå·²ç¶“æœ‰æä¾›äº†(èª¤)ã€‚é›–ç„¶å…©è€…æœ‰äº›å¾®çš„ä¸åŒï¼Œä¸éå¤§è‡´ä¸Šéƒ½æ˜¯ç¬¦åˆOCI(Open Container Initiative)6æ¨™æº–ã€‚æ•´ç¯‡å¯¦ä½œä¸‹ä¾†ï¼ŒDockerå®˜ç¶²æ–‡ä»¶5å¯«å¾—è »æ¸…æ¥šï¼Œæ­¥é©Ÿçš„å®‰æ’ä¹Ÿæœ‰è€ƒé‡åˆ°è¨±å¤šç´°ç¯€ï¼Œå€¼å¾—æ‰€æœ‰æœƒæ¥è§¸åˆ°Dockerçš„æœ‹å‹çœ‹ä¸€çœ‹ã€‚\nå¹¸å¥½æˆ‘æ¯”è¼ƒç²—å¿ƒï¼Œæ‰€ä»¥é€™ç¯‡çš„ç¯‡å¹…æ‰èƒ½æ‹‰é€™éº¼é•·ğŸ˜‚é™¤äº†ç¢©å£«è«–æ–‡ä»¥å¤–ï¼Œç¬¬ä¸€æ¬¡å¯«é€™éº¼é•·çš„æ–‡ç« ï¼Œå¦‚æœæœ‰ä»»ä½•å»ºè­°ï¼Œæ­¡è¿å„ä½æœ‹å‹ä¸åæŒ‡æ•™ã€‚ç•¶ç„¶æœ‰æ–°æ‰‹ç–‘å•ä¹Ÿå¯ä»¥ç›´æ¥ä¾†è©¢å•ï¼Œæˆ‘ååˆ†å¸Œæœ›å¯ä»¥è—‰ç”±é€™ç¨®äº’å‹•çš„æ–¹å¼ï¼Œå„ªåŒ–ã€è£œå¼·è‡ªå·±ä¸è¶³çš„åœ°æ–¹ã€‚æ„Ÿè¬å„ä½çœ‹å€Œçš„æ”¶çœ‹~ä¸‹æ¬¡è¦‹ğŸ–\n5. åƒè€ƒè³‡æ–™ RHEL8.5å®‰è£Dockerå°ç­†è¨˜\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nRedhat Developer\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nNo-cost RHEL for developers subscription\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nRegistration Assistant\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nInstall Docker Engine on RHEL\u0026#160;\u0026#x21a9;\u0026#xfe0e;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nOCI(Open Container Initiative)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2023-11-18","id":0,"permalink":"/blog/rhel8.5%E5%AE%89%E8%A3%9Ddocker%E5%B0%8F%E7%AD%86%E8%A8%98/","summary":"å˜—è©¦åœ¨RHEL8ä¸Šå®‰è£Dockeræ™‚ç™¼ç¾æ²’æœ‰æƒ³åƒä¸­ä¾†çš„é †åˆ©ğŸ˜¢ï¼Œæ‰€ä»¥æ±ºå®šå¯«é€™ç¯‡ä¾†è¨˜éŒ„é€™å€‹éç¨‹ã€‚å¯¦éš›ä¸Šæœ¬ç¯‡æœƒéµç…§Dockerå®˜ç¶² Install Docker Engine on RHELå¾ªåºå®‰è£èˆ‡èªªæ˜ï¼Œä¸éä¸¦éStep By Stepçš„æ•™å­¸æœƒå¤¾é›œä¸€äº›æ•…éšœæ’é™¤ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç›´æ¥å»çœ‹å®˜ç¶²æœƒæ¯”è¼ƒå¿«ã€‚","tags":[],"title":"RHEL8.5å®‰è£Dockerå°ç­†è¨˜"},{"content":"","date":"2023-09-07","id":1,"permalink":"/blog/example-post/","summary":"","tags":[],"title":"Example Post"},{"content":"","date":"2023-09-07","id":2,"permalink":"/blog/","summary":"","tags":[],"title":"Blog"},{"content":"","date":"2023-09-07","id":3,"permalink":"/docs/guides/","summary":"","tags":[],"title":"Guides"},{"content":"Guides lead a user through a specific task they want to accomplish, often with a sequence of steps. Writing a good guide requires thinking about what your users are trying to do.\nFurther reading Read about how-to guides in the DiÃ¡taxis framework ","date":"2023-09-07","id":4,"permalink":"/docs/guides/example-guide/","summary":"Guides lead a user through a specific task they want to accomplish, often with a sequence of steps. Writing a good guide requires thinking about what your users are trying to do.","tags":[],"title":"Example Guide"},{"content":"","date":"2023-09-07","id":5,"permalink":"/docs/reference/","summary":"","tags":[],"title":"Reference"},{"content":"Reference pages are ideal for outlining how things work in terse and clear terms. Less concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what your documenting.\nFurther reading Read about reference in the DiÃ¡taxis framework ","date":"2023-09-07","id":6,"permalink":"/docs/reference/example-reference/","summary":"Reference pages are ideal for outlining how things work in terse and clear terms. Less concerned with telling a story or addressing a specific use case, they should give a comprehensive outline of what your documenting.","tags":[],"title":"Example Reference"},{"content":"","date":"2023-09-07","id":7,"permalink":"/docs/","summary":"","tags":[],"title":"Docs"},{"content":"","date":"2023-09-07","id":8,"permalink":"/privacy/","summary":"","tags":[],"title":"Privacy Policy"},{"content":"","date":"2023-09-07","id":9,"permalink":"/","summary":"","tags":[],"title":"èŠ¥æœ«è½Ÿç‚¸é›ã®æ‰‹å¸³"},{"content":"","date":"0001-01-01","id":10,"permalink":"/categories/","summary":"","tags":[],"title":"Categories"},{"content":"","date":"0001-01-01","id":11,"permalink":"/contributors/","summary":"","tags":[],"title":"Contributors"},{"content":"","date":"0001-01-01","id":12,"permalink":"/tags/","summary":"","tags":[],"title":"Tags"}]